---
title: 算法-差分
date: 2021-08-31 20:37:20
tags:
    - 差分
    - 算法
categories:
	- 算法
---

## 概念

差分，简单来说就是 `下一个数值 ，减去上一个数值 `。

差分数组对应的概念是`前缀和数组`，对于数组 [1,2,2,4]，其差分数组为 [1,1,0,2]，差分数组的第 i 个数即为原数组的第 i-1 个元素和第 i 个元素的差值，也就是说我们对差分数组求前缀和即可得到原数组。

差分数组的性质是，**当我们希望对原数组的某一个区间 [l,r] 施加一个增量 inc 时，`差分数组 d 对应的改变是：d[l] 增加 inc，d[r+1] 减少 inc`。这样对于区间的修改就变为了对于两个位置的修改。并且这种修改是可以叠加的，即当我们多次对原数组的不同区间施加不同的增量，我们只要按规则修改差分数组即可。**

<!-- more -->

## 图例

现有一个初始全为0，长度为5的数组，希望对其0到4施加一个增量10（用`[1, 5, 10]`表示）

我们申请一个长度为 6 的数组，将其i=0值设为10，i=5值设为-10，然后再从头到尾求前缀和，就可以得到结果：

![image-20210831104755996](https://ww1.sinaimg.cn/large/001XqbP0gy1gu09wjv3v4j60dw053mxp02.jpg)

同样地，如果给定的数据范围为多个，我们也可以按照差分数组来求解。

比如，给定数据范围为 `[[1, 5, 10],[2, 6, 8]]`，请看图：

![image-20210831105030587](https://ww1.sinaimg.cn/large/001XqbP0ly1gu09xaw258j60f804tmxs02.jpg)

## 例题

[1109-航班预订统计](https://leetcode-cn.com/problems/corporate-flight-bookings/)

[1094-拼车](https://leetcode-cn.com/problems/car-pooling/)

## 思路

遇到这种每个顺序序列节点上有增有减的题目，就可以考虑差分。
